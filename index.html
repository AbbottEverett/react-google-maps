<!DOCTYPE html><html><head><title>React Google Maps | tomchentw</title><link rel="stylesheet" href="assets/969d4ecd6ade346c236e/client.css"><script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp&amp;libraries=geometry,drawing"></script><script type="text/javascript" src="prism.min.js"></script></head><body><div id="react-container"><div id="react-root" data-reactid=".me8jj8q51c" data-react-checksum="73983251"><nav class="navbar navbar-default" role="navigation" data-reactid=".me8jj8q51c.0"><div class="container-fluid" data-reactid=".me8jj8q51c.0.0"><div class="navbar-header" data-reactid=".me8jj8q51c.0.0.0"><button type="button" class="navbar-toggle collapsed" data-reactid=".me8jj8q51c.0.0.0.0"><span class="sr-only" data-reactid=".me8jj8q51c.0.0.0.0.0">Toggle navigation</span><span class="icon-bar" data-reactid=".me8jj8q51c.0.0.0.0.1"></span><span class="icon-bar" data-reactid=".me8jj8q51c.0.0.0.0.2"></span><span class="icon-bar" data-reactid=".me8jj8q51c.0.0.0.0.3"></span></button><a class="navbar-brand" href="#" data-reactid=".me8jj8q51c.0.0.0.1">React Google Maps</a></div><div class="collapse navbar-collapse" data-reactid=".me8jj8q51c.0.0.1"><ul class="nav navbar-nav" data-reactid=".me8jj8q51c.0.0.1.0"><li data-reactid=".me8jj8q51c.0.0.1.0.0"><a href="https://github.com/tomchentw" target="_blank" data-reactid=".me8jj8q51c.0.0.1.0.0.0">by @tomchentw</a></li><li class="active" data-reactid=".me8jj8q51c.0.0.1.0.1:$gs"><a href="#gs" data-reactid=".me8jj8q51c.0.0.1.0.1:$gs.0">Getting started</a></li><li class="dropdown" data-reactid=".me8jj8q51c.0.0.1.0.2"><a href="javascript:void(0);" class="dropdown-toggle" data-reactid=".me8jj8q51c.0.0.1.0.2.0"><span data-reactid=".me8jj8q51c.0.0.1.0.2.0.0">Samples </span><span class="caret" data-reactid=".me8jj8q51c.0.0.1.0.2.0.1"></span></a><ul class="dropdown-menu" role="menu" data-reactid=".me8jj8q51c.0.0.1.0.2.1"><li class="" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$basics__simple-map"><a href="#basics/simple-map" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$basics__simple-map.0">Simple Map</a></li><li class="" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$basics__styled-map"><a href="#basics/styled-map" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$basics__styled-map.0">Styled Map</a></li><li class="" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$basics__geolocation"><a href="#basics/geolocation" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$basics__geolocation.0">Geolocation</a></li><li class="" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$basics__asynchronous-loading"><a href="#basics/asynchronous-loading" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$basics__asynchronous-loading.0">Asynchronous Loading</a></li><li class="" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$basics__directions"><a href="#basics/directions" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$basics__directions.0">Directions</a></li><li class="divider" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$divider_5"></li><li class="" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$events__simple-click-event"><a href="#events/simple-click-event" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$events__simple-click-event.0">Simple click event</a></li><li class="" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$events__event-closure"><a href="#events/event-closure" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$events__event-closure.0">Using closures in event listeners</a></li><li class="" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$events__event-arguments"><a href="#events/event-arguments" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$events__event-arguments.0">Accessing arguments in UI events</a></li><li class="" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$events__event-properties"><a href="#events/event-properties" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$events__event-properties.0">Getting properties with event handlers</a></li><li class="divider" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$divider_10"></li><li class="" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$drawing__drawing-tools"><a href="#drawing/drawing-tools" data-reactid=".me8jj8q51c.0.0.1.0.2.1.$drawing__drawing-tools.0">Drawing Tools</a></li></ul></li></ul><ul class="nav navbar-nav navbar-right" style="margin-right:100px;" data-reactid=".me8jj8q51c.0.0.1.1"><li class="" data-reactid=".me8jj8q51c.0.0.1.1.$geojson"><a href="#geojson" data-reactid=".me8jj8q51c.0.0.1.1.$geojson.0">Geojson</a></li></ul></div></div></nav><div class="container-fluid container--full-height" data-reactid=".me8jj8q51c.1"><div class="github-fork-ribbon-wrapper right" data-reactid=".me8jj8q51c.1.0"><div class="github-fork-ribbon" style="background-color:#333;" data-reactid=".me8jj8q51c.1.0.0"><a href="https://github.com/tomchentw/react-google-maps" data-reactid=".me8jj8q51c.1.0.0.0">Fork me on GitHub</a></div></div><div id="toast-container" aria-live="polite" role="alert" data-reactid=".me8jj8q51c.1.1"></div><div class="row row--full-height" data-reactid=".me8jj8q51c.1.2"><div class="col-xs-6" style="height:100%;" data-reactid=".me8jj8q51c.1.2.0"></div><div class="col-xs-6" data-reactid=".me8jj8q51c.1.2.1"><pre data-reactid=".me8jj8q51c.1.2.1.0">
<code class="language-javascript" data-reactid=".me8jj8q51c.1.2.1.0.0">import React from &quot;react/addons&quot;;
import {GoogleMaps, Marker} from &quot;react-google-maps&quot;;

const {update} = React.addons;
/*
 * This is the modify version of:
 * https://developers.google.com/maps/documentation/javascript/examples/event-arguments
 */
class GettingStarted extends React.Component {

  constructor (...args) {
    super(...args);
    this.state = {
      markers: [{
        position: {
          lat: 25.0112183,
          lng: 121.52067570000001,
        },
        key: &quot;Taiwan&quot;,
      }],
    };
  }

  /*
   * This is called when you click on the map.
   * Go and try click now.
   */
  _handle_map_click (event) {
    var {markers} = this.state;
    markers = update(markers, {
      $push: [
        {
          position: event.latLng,
          key: Date.now(),// Add a key property for: http://fb.me/react-warning-keys
        },
      ],
    });
    this.setState({ markers });

    if (3 === markers.length) {
      this.props.toast(
        &quot;Right click on the marker to remove it&quot;,
        &quot;Also check the code!&quot;
      );
    }
    this.refs.map.panTo(event.latLng);
  }

  _handle_marker_rightclick (index, event) {
    /*
     * All you modify is data, and the view is driven by data.
     * This is so called data-driven-development. (And yes, it&#x27;s now in
     * web front end and even with google maps API.)
     */
    var {markers} = this.state;
    markers = update(markers, {
      $splice: [
        [index, 1]
      ],
    });
    this.setState({ markers });
  }

  render () {
    const {props, state} = this,
          {googleMapsApi, ...otherProps} = props;

    return (
      &lt;GoogleMaps containerProps={{
          ...otherProps,
          style: {
            height: &quot;100%&quot;,
          },
        }}
        ref=&quot;map&quot;
        googleMapsApi={
          &quot;undefined&quot; !== typeof google ? google.maps : null
        }
        zoom={3}
        center={{lat: -25.363882, lng: 131.044922}}
        onClick={this._handle_map_click.bind(this)}&gt;
        {state.markers.map(toMarker, this)}
      &lt;/GoogleMaps&gt;
    );

    function toMarker (marker, index) {
      return (
        &lt;Marker
          position={marker.position}
          key={marker.key}
          onRightclick={this._handle_marker_rightclick.bind(this, index)} /&gt;
      );
    }
  }
}

export default GettingStarted; 
</code></pre></div></div></div></div></div><script type="text/javascript" src="assets/969d4ecd6ade346c236e/client.js"></script></body></html>