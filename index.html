<!doctype html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    
    <title data-react-helmet="true">Getting Started | React Google Maps | tomchentw</title>
    <meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"><meta data-react-helmet="true" name="description" content="react-google-maps example application"><meta data-react-helmet="true" property="og:type" content="article">

    <link rel="stylesheet" href="assets/client-04a5d590623bfd14e52b.css">

    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp&amp;libraries=geometry,drawing,places"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/prism/1.4.1/
prism.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/prism/1.4.1/
components/prism-jsx.min.js"></script>
    
  </head>
  <body>
    <div id="react-container"><div class="_2k7ULTRTr_j5uSMtJCLvmt _3esBmOMwkv1g59iKIm_lEC" data-reactid=".129ia01k0e8" data-react-checksum="1077043674"><noscript data-reactid=".129ia01k0e8.0"></noscript><nav class="navbar navbar-default" data-reactid=".129ia01k0e8.1"><div class="container-fluid" data-reactid=".129ia01k0e8.1.0"><div class="navbar-header" data-reactid=".129ia01k0e8.1.0.0"><a href="#" class="navbar-brand" data-reactid=".129ia01k0e8.1.0.0.0">React Google Maps</a></div><ul class="nav navbar-nav" data-reactid=".129ia01k0e8.1.0.1"><li role="presentation" class="" data-reactid=".129ia01k0e8.1.0.1.$0/=10"><a href="https://github.com/tomchentw" target="_blank" data-reactid=".129ia01k0e8.1.0.1.$0/=10.0">by @tomchentw</a></li><li class="dropdown" data-reactid=".129ia01k0e8.1.0.1.$1/=11"><a id="examples-dropdown" class="dropdown-toggle" type="button" aria-haspopup="true" aria-expanded="false" href="" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=10"><span data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=10.0">Examples</span><span data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=10.1"><span data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=10.1.0"> </span><span class="caret" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=10.1.1"></span></span></a><ul class="dropdown-menu" role="menu" aria-labelledby="examples-dropdown" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11"><li role="presentation" class="" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=10"><a role="menuitem" href="#basics/simple-map" tabindex="-1" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=10.0">Simple map</a></li><li role="presentation" class="" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=11"><a role="menuitem" href="#basics/styled-map" tabindex="-1" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=11.0">Styled map</a></li><li role="presentation" class="" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=12"><a role="menuitem" href="#basics/geolocation" tabindex="-1" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=12.0">Geolocation</a></li><li role="presentation" class="" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=13"><a role="menuitem" href="#basics/directions" tabindex="-1" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=13.0">Directions</a></li><li role="presentation" class="" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=14"><a role="menuitem" href="#basics/overlay-view" tabindex="-1" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=14.0">Overlay view</a></li><li role="presentation" class="" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=15"><a role="menuitem" href="#basics/kml-layer" tabindex="-1" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=15.0">KmlLayer</a></li><li role="separator" class="divider" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=16"></li><li role="presentation" class="" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=17"><a role="menuitem" href="#events/simple-click-event" tabindex="-1" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=17.0">Simple click event</a></li><li role="presentation" class="" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=18"><a role="menuitem" href="#events/closure-listeners" tabindex="-1" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=18.0">Using closures in event listeners</a></li><li role="presentation" class="" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=19"><a role="menuitem" href="#events/accessing-arguments" tabindex="-1" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=19.0">Accessing arguments in UI events</a></li><li role="presentation" class="" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=1a"><a role="menuitem" href="#events/getting-properties" tabindex="-1" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=1a.0">Getting properties with event handlers</a></li><li role="separator" class="divider" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=1b"></li><li role="presentation" class="" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=1c"><a role="menuitem" href="#drawing/drawing-tools" tabindex="-1" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=1c.0">Drawing tools</a></li><li role="separator" class="divider" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=1d"></li><li role="presentation" class="" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=1e"><a role="menuitem" href="#places/search-box" tabindex="-1" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=1e.0">Adding a places search box</a></li><li role="separator" class="divider" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=1f"></li><li role="presentation" class="" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=1g"><a role="menuitem" href="#addons/marker-clusterer" tabindex="-1" data-reactid=".129ia01k0e8.1.0.1.$1/=11.$/=11.$/=1g.0">Marker clusterer addon with Marker</a></li></ul></li></ul><div class="navbar-collapse collapse" style="margin-right:100px;" data-reactid=".129ia01k0e8.1.0.2"><ul class="nav navbar-nav navbar-right" data-reactid=".129ia01k0e8.1.0.2.0"><li role="presentation" class="" data-reactid=".129ia01k0e8.1.0.2.0.$0/=10"><a href="/async" data-reactid=".129ia01k0e8.1.0.2.0.$0/=10.0">Async example</a></li><li role="presentation" class="" data-reactid=".129ia01k0e8.1.0.2.0.$1/=11"><a href="#geojson" data-reactid=".129ia01k0e8.1.0.2.0.$1/=11.0">Geojson</a></li></ul></div></div></nav><div class="container-fluid _1gx2beVOWzXidqOxad9d_F _3esBmOMwkv1g59iKIm_lEC" data-reactid=".129ia01k0e8.2"><div class="github-fork-ribbon-wrapper right" style="width:150px;height:150px;position:absolute;overflow:hidden;top:0px;z-index:9999;pointer-events:none;right:0px;" data-reactid=".129ia01k0e8.2.0"><div class="github-fork-ribbon" style="position:absolute;padding:2px 0;background-color:#333;background-image:linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));-webkit-box-shadow:0 2px 3px 0 rgba(0, 0, 0, 0.5);-moz-box-shadow:0 2px 3px 0 rgba(0, 0, 0, 0.5);box-shadow:0 2px 3px 0 rgba(0, 0, 0, 0.5);font:700 13px &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;z-index:9999;pointer-events:auto;top:42px;right:-43px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg);" data-reactid=".129ia01k0e8.2.0.0"><a href="https://github.com/tomchentw/react-google-maps" style="color:#fff;text-decoration:none;text-shadow:0 -1px rgba(0, 0, 0, 0.5);text-align:center;width:200px;line-height:20px;display:inline-block;padding:2px 0;border-width:1px 0;border-style:dotted;border-color:rgba(255, 255, 255, 0.7);" data-reactid=".129ia01k0e8.2.0.0.0">Fork me on GitHub</a></div></div><div id="toast-container" aria-live="polite" role="alert" data-reactid=".129ia01k0e8.2.1"></div><div class="row _2PBsgOsLEXllFvij5Fs6y_ _3esBmOMwkv1g59iKIm_lEC" data-reactid=".129ia01k0e8.2.2"><div class="col-xs-6" style="height:100%;" data-reactid=".129ia01k0e8.2.2.0"><div style="height:100%;" data-reactid=".129ia01k0e8.2.2.0.0"></div></div><div class="col-xs-6" data-reactid=".129ia01k0e8.2.2.1"><pre data-reactid=".129ia01k0e8.2.2.1.0"><code class="language-jsx" data-reactid=".129ia01k0e8.2.2.1.0.0">import { default as React, Component } from &quot;react&quot;;
import { default as update } from &quot;react-addons-update&quot;;

import { default as canUseDOM } from &quot;can-use-dom&quot;;
import { default as _ } from &quot;lodash&quot;;

import { GoogleMapLoader, GoogleMap, Marker } from &quot;react-google-maps&quot;;
import { triggerEvent } from &quot;react-google-maps/lib/utils&quot;;

/*
 * This is the modify version of:
 * https://developers.google.com/maps/documentation/javascript/examples/event-arguments
 *
 * Add &lt;script src=&quot;https://maps.googleapis.com/maps/api/js&quot;&gt;&lt;/script&gt; to your HTML to provide google.maps reference
 */
export default class GettingStarted extends Component {

  state = {
    markers: [{
      position: {
        lat: 25.0112183,
        lng: 121.52067570000001,
      },
      key: `Taiwan`,
      defaultAnimation: 2,
    }],
  }

  constructor(props, context) {
    super(props, context);
    this.handleWindowResize = _.throttle(::this.handleWindowResize, 500);
  }

  componentDidMount() {
    if (!canUseDOM) {
      return;
    }
    window.addEventListener(`resize`, this.handleWindowResize);
  }

  componentWillUnmount() {
    if (!canUseDOM) {
      return;
    }
    window.removeEventListener(`resize`, this.handleWindowResize);
  }

  handleWindowResize() {
    console.log(`handleWindowResize`, this._googleMapComponent);
    triggerEvent(this._googleMapComponent, `resize`);
  }

  /*
   * This is called when you click on the map.
   * Go and try click now.
   */
  handleMapClick(event) {
    let { markers } = this.state;
    markers = update(markers, {
      $push: [
        {
          position: event.latLng,
          defaultAnimation: 2,
          key: Date.now(), // Add a key property for: http://fb.me/react-warning-keys
        },
      ],
    });
    this.setState({ markers });

    if (markers.length === 3) {
      this.props.toast(
        `Right click on the marker to remove it`,
        `Also check the code!`
      );
    }
  }

  handleMarkerRightclick(index, event) {
    /*
     * All you modify is data, and the view is driven by data.
     * This is so called data-driven-development. (And yes, it&apos;s now in
     * web front end and even with google maps API.)
     */
    let { markers } = this.state;
    markers = update(markers, {
      $splice: [
        [index, 1],
      ],
    });
    this.setState({ markers });
  }

  render() {
    return (
      &lt;GoogleMapLoader
        containerElement={
          &lt;div
            {...this.props}
            style={{
              height: `100%`,
            }}
          /&gt;
        }
        googleMapElement={
          &lt;GoogleMap
            ref={(map) =&gt; (this._googleMapComponent = map) &amp;&amp; console.log(map.getZoom())}
            defaultZoom={3}
            defaultCenter={{ lat: -25.363882, lng: 131.044922 }}
            onClick={::this.handleMapClick}
          &gt;
            {this.state.markers.map((marker, index) =&gt; {
              return (
                &lt;Marker
                  {...marker}
                  onRightclick={this.handleMarkerRightclick.bind(this, index)}
                /&gt;
              );
            })}
          &lt;/GoogleMap&gt;
        }
      /&gt;
    );
  }
}
</code></pre></div></div></div></div></div>

    <script src="assets/client-04a5d590623bfd14e52b.js"></script>
  </body>
</html>
